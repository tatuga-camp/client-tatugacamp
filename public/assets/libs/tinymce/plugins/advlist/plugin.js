!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,s)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===s?null:{"list-style-type":s})},s=e=>{e.addCommand("ApplyUnorderedListStyle",(s,r)=>{t(e,"UL",r["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",(s,r)=>{t(e,"OL",r["list-style-type"])})},r=e=>t=>t.options.get(e),l=e=>{let t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},i=r("advlist_number_styles"),n=r("advlist_bullet_styles"),o=e=>null==e,a=e=>!o(e);var u=tinymce.util.Tools.resolve("tinymce.util.Tools");class d{constructor(e,t){this.tag=e,this.value=t}static some(e){return new d(!0,e)}static none(){return d.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?d.some(e(this.value)):d.none()}bind(e){return this.tag?e(this.value):d.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:d.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?d.some(e):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);let g=(e,t,s)=>{for(let r=0,l=e.length;r<l;r++){let l=e[r];if(t(l,r))return d.some(l);if(s(l,r))break}return d.none()},h=e=>/\btox\-/.test(e.className),m=(e,t)=>e.dom.isChildOf(t,e.getBody()),c=e=>t=>a(t)&&e.test(t.nodeName),p=c(/^(OL|UL|DL)$/),v=c(/^(TH|TD)$/),y=(e,t,s)=>g(t,e=>p(e)&&!h(e),v).exists(t=>t.nodeName===s&&m(e,t)),f=e=>{let t=e.dom.getParent(e.selection.getNode(),"ol,ul"),s=e.dom.getStyle(t,"listStyleType");return d.from(s)},L=(e,t)=>null!==t&&!e.dom.isEditable(t),O=(e,t)=>{let s=e.dom.getParent(t,"ol,ul,dl");return L(e,s)&&e.selection.isEditable()},b=(e,t)=>{let s=e.selection.getNode();return t({parents:e.dom.getParents(s),element:s}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},N=e=>e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),S=e=>o(e)||"default"===e?"":e,C=(e,t)=>s=>{let r=(e,r)=>{let l=e.selection.getStart(!0);s.setActive(y(e,r,t)),s.setEnabled(!O(e,l)&&e.selection.isEditable())};return b(e,t=>r(e,t.parents))},w=(e,s,r,l,i,n)=>{e.ui.registry.addSplitButton(s,{tooltip:r,icon:"OL"===i?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(u.map(n,e=>{let t="OL"===i?"num":"bull",s="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:S(e),icon:"list-"+t+"-"+s,text:N(e)}}))},onAction:()=>e.execCommand(l),onItemAction:(s,r)=>{t(e,i,r)},select:t=>f(e).map(e=>t===e).getOr(!1),onSetup:C(e,i)})},T=(e,s,r,l,i,n)=>{e.ui.registry.addToggleButton(s,{active:!1,tooltip:r,icon:"OL"===i?"ordered-list":"unordered-list",onSetup:C(e,i),onAction:()=>e.queryCommandState(l)||""===n?e.execCommand(l):t(e,i,n)})},U=(e,t,s,r,l,i)=>{i.length>1?w(e,t,s,r,l,i):T(e,t,s,r,l,S(i[0]))},_=e=>{U(e,"numlist","Numbered list","InsertOrderedList","OL",i(e)),U(e,"bullist","Bullet list","InsertUnorderedList","UL",n(e))};e.add("advlist",e=>{e.hasPlugin("lists")?(l(e),_(e),s(e)):console.error("Please use the Lists plugin together with the List Styles plugin.")})}();